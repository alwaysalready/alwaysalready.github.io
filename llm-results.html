<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://cdn.rawgit.com/Chalarangelo/mini.css/v3.0.1/dist/mini-default.min.css">
  <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.0"></script>
</head>
<body>

  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <div id="vis"/>
      </div>
    </div>
  </div>
  <script>
    const spec = {
  "$schema": "https://vega.github.io/schema/vega-lite/v5.2.0.json",
  "data": {"url": "https://globaltechandsociety.red//survey-results.json"},
  "height": 400,
  "width": 1000,
  "encoding": {
    "x": {"field": "region", "axis": {"offset": 0}},
    "y": {
      "aggregate": "count",
      "field": "age-group",
      "type": "quantitative",
      "axis": {
        "title": "Number of raters",
        "offset": 0,
        "labelFontSize": 14,
        "labelPadding": 10,
        "titleFontSize": 15,
        "titleFontWeight": 400
      },
      "scale": {"domain": [0, 55]}
    },
    "xOffset": {"field": "age-group"},
    "color": {"field": "age-group"}
  },
  "layer": [
    {"mark": {"type": "bar", "width": {"band": 0.8}}},
    {
      "mark": {
        "type": "text",
        "dx": 33,
        "dy": -8,
        "baseline": "middle",
        "fontSize": 18
      },
      "encoding": {
        "text": {
          "aggregate": "count",
          "field": "age-group",
          "type": "quantitative"
        }
      }
    }
  ],
  "config": {
    "axisX": {
      "titleLimit": 150,
      "labelAngle": 0,
      "labelFontSize": 18,
      "labelFontWeight": 400,
      "labelPadding": 10,
      "ticks": false,
      "title": ""
    },
    "axisY": {"minExtent": 40},
    "legend": {
      "padding": 8,
      "labelFontSize": 18,
      "title": "",
      "columnPadding": 18,
      "clipHeight": 22
    },
    "concat": {"spacing": 60}
  }
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>